--
# This file just shows the attributes chef used to configure the cluster

:cluster_name:             <%= node[:cluster_name]                  %>
:facet_name:               <%= node[:facet_name]                    %>
:facet_index:              <%= node[:facet_index]                   %>

:hadoop_handle:            <%= node[:hadoop][:hadoop_handle]        %>
:cdh_version:              <%= node[:hadoop][:cdh_version]          %>
:dfs_replication:          <%= node[:hadoop][:dfs_replication]      %>
:max_map_tasks:            <%= node[:hadoop][:max_map_tasks]        %>
:max_reduce_tasks:         <%= node[:hadoop][:max_reduce_tasks]     %>
:cluster_reduce_tasks:     <%= node[:hadoop][:cluster_reduce_tasks] %>
:child_opts:               <%= node[:hadoop][:java_child_opts]      %>
:child_ulimit:             <%= node[:hadoop][:java_child_ulimit]    %>

:hadoop_scratch_dirs:      <%= @hadoop_scratch_dirs.inspect         %>
:hadoop_persistent_dirs:   <%= @hadoop_persistent_dirs.inspect      %>
:mapred_local_dirs:        <%= @mapred_local_dirs                   %>
:dfs_name_dirs:            <%= @dfs_name_dirs                       %>
:fs_checkpoint_dirs:       <%= @fs_checkpoint_dirs                  %>
:dfs_data_dirs:            <%= @dfs_data_dirs                       %>

:hadoop_tmp_dir:           <%= @hadoop_tmp_dir                      %>
:hadoop_log_dir:           <%= @hadoop_log_dir                      %>

:namenode_address:         <%= @namenode_address                    %>            
:jobtracker_address:       <%= @jobtracker_address                  %>

<%- memory_in_bytes = node[:memory][:total].gsub(/kB$/, '').to_i * 1024 %>
:n_cpus:                   <%= node[:cpu][:total] %>
:memory_total:             <%= memory_in_bytes %>

:all_cluster_volumes: >-
  <%= @all_cluster_volumes.inspect %>
:cluster_ebs_volumes: >-
  <%= @cluster_ebs_volumes.inspect %>

:all: >-
  <%= node[:hadoop].to_hash.inspect %>
